const popularCourses = [
    {
        "courseIndex": 1,
        "courseName": "Giải đề PE Prj301 | Fall 2023 | 9.5+",
        "courseImage": "./img/pe_prj_fall_2023.jpg",
        "courseIntro": "https://www.youtube.com/embed/M62l1xA5Eu8",
        "courseType": "Sell",
        "courseStudents": 8.750,
        "courseRate": 4.8,
        "coursePrice": "Free",
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Giải đề PE Prj301 - 2023",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Giải đề PE Prj301 | Fall 2023 | 9.5+",
                        "lengthVideo": 89.5,
                        "linkVideo": "pEbsJdSFTh8",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            },
            {
                "chapterIndex": 1,
                "chapterTitle": "Giải đề PE Prj301 - 2024 ",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Giải đề PE Prj301 | Spring 2024 BL5 | Java servlet",
                        "lengthVideo": 74.43,
                        "linkVideo": "ndqm3JrRTOI",
                        "learnedVideo": false,
                        "learnedLength": -1
                    },
                    {
                        "indexVideo": 1,
                        "nameVideo": "Giải đề PE Prj301 | Summer 2024 | Q1",
                        "lengthVideo": 20.85,
                        "linkVideo": "y5GxN1Qhvgs",
                        "learnedVideo": false,
                        "learnedLength": -1
                    },
                    {
                        "indexVideo": 2,
                        "nameVideo": "Giải đề PE Prj301 | Summer 2024 | Q2",
                        "lengthVideo": 28.52,
                        "linkVideo": "zRE3e44PQVo",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Giải Đề PE Java Web: Nâng Cao Kỹ Năng Servlet và JSP",
            },
            {
                "willLearnId": 1,
                "willLearnContent": " Thực Hành Java Servlet và JSP: Giải Quyết Đề Thi PE",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Khóa Học Giải Đề PE: Phát Triển Ứng Dụng Web với Java Servlet và JSP",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Học Thực Hành Java Web: Giải Đề PE Servlet và JSP",
            }
        ],
        "courseLearned": false
    },
    {
        "courseIndex": 2,
        "courseName": "Build login google with Java | Jsp, Servlet",
        "courseImage": "./img/build_login_google.jpg",
        "courseType": "Analysis",
        "courseIntro": "https://www.youtube.com/embed/efI98nT8Ffo",
        "courseStudents": 500,
        "courseRate": 4.9,
        "coursePrice": 32.00,
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Build login google",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Build login google with Java | Jsp, Servlet",
                        "lengthVideo": 125.5,
                        "linkVideo": "https://www.youtube.com/watch?v=Esfv2KNzlRU&t=65s",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Cách tích hợp Google Sign-In vào ứng dụng Java sử dụng JSP và Servlet."
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Các khái niệm cơ bản về OAuth 2.0 và cách hoạt động của nó trong xác thực người dùng."
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Phương pháp xử lý yêu cầu và phản hồi từ Google API trong ứng dụng web."
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Cách xây dựng giao diện người dùng thân thiện cho chức năng đăng nhập Google."
            }
        ],
        "courseLearned": false
    },
    {
        "courseIndex": 3,
        "courseName": "Build login facebook",
        "courseImage": "./img/build_login_facebook.jpg",
        "courseType": "build business",
        "courseIntro": "https://www.youtube.com/embed/x0fSBAgBrOQ",
        "courseStudents": 642,
        "courseRate": 4.9,
        "coursePrice": "Free",
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Build login facebook by java | jsp servlet",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "ReactJS là gì? Tại sao nên học ReactJS?",
                        "lengthVideo": 10,
                        "linkVideo": "QUE-C6-yJJI",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Các mô hình, kiến trúc cơ bản khi triển khai ứng dụng",
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Các mô hình, kiến trúc cơ bản khi triển khai ứng dụng",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Các mô hình, kiến trúc cơ bản khi triển khai ứng dụng",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Các mô hình, kiến trúc cơ bản khi triển khai ứng dụng",
            }

        ],
        "courseLearned": false
    },
    {
        "courseIndex": 4,
        "courseName": "Export pdf by javascript",
        "courseImage": "./img/popular-course4.jpg",
        "courseType": "Web Design",
        "courseIntro": "https://www.youtube.com/watch?v=7jKzVRabKm4",
        "courseStudents": 143,
        "courseRate": 3.38,
        "coursePrice": "Free",
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "xport pdf by javascript with 10 line",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Mo hinh client - Sever la gi?",
                        "lengthVideo": 125.5,
                        "linkVideo": "https://www.youtube.com/watch?v=7jKzVRabKm4",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
    {
        "willLearnId": 0,
        "willLearnContent": "Hiểu hơn về cách internet và máy vi tính hoạt động."
    },
    {
        "willLearnId": 1,
        "willLearnContent": "Khám phá thư viện jsPDF và cách sử dụng nó để xuất PDF."
    },
    {
        "willLearnId": 2,
        "willLearnContent": "Thực hành viết mã JavaScript để tạo file PDF chỉ trong 10 dòng."
    },
    {
        "willLearnId": 3,
        "willLearnContent": "Nắm vững cách định dạng và tùy chỉnh nội dung trong PDF."
    }
],
        "courseLearned": false
    },
    {
        "courseIndex": 5,
        "courseName": "Tích hợp trình soạn thảo (tinymce)",
        "courseImage": "./img/tichhop_tinycme.webp",
        "courseType": "Java",
        "courseIntro": "https://www.youtube.com/watch?v=QWyabAkUuuk&t=5s",
        "courseStudents": 236,
        "courseRate": 4.5,
        "coursePrice": 'Free',
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Tích hợp trình soạn thảo (tinymce) | add text editor in jsp, servlet",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Mo hinh client - Sever la gi?",
                        "lengthVideo": 9.04,
                        "linkVideo": "https://www.youtube.com/embed/zoELAirXMJY",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            }

        ],
        "courseLearned": false
    },
    {
        "courseIndex": 6,
        "courseName": "Export excel by java",
        "courseImage": "./img/build_export_excel.jpg",
        "courseType": "Artificial Intelligence",
        "courseIntro": "https://www.youtube.com/watch?v=FUaGJTOCBtU",
        "courseStudents": 360,
        "courseRate": 4.9,
        "coursePrice": "Free",
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Export excel by java | java servlet | sql server",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Mo hinh client - Sever la gi?",
                        "lengthVideo": 23.33,
                        "linkVideo": "https://www.youtube.com/watch?v=FUaGJTOCBtU",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Biết thêm một số kỹ thuật với Javascript",
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Biết thêm một số kỹ thuật với Javascript",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Biết thêm một số kỹ thuật với Javascript",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Biết thêm một số kỹ thuật với Javascript",
            }
        ],
        "courseLearned": false
    },
    {
        "courseIndex": 7,
        "courseName": "Hướng dẫn send email trong java",
        "courseImage": "./img/swp_send_mail.jpg",
        "courseType": "Web Design",
        "courseIntro": "https://www.youtube.com/watch?v=wkNwSV7ajzI&t=1364s",
        "courseStudents": 949,
        "courseRate": 5,
        "coursePrice": 'Free',
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Hướng dẫn send email trong java servlet | forget password",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Mo hinh client - Sever la gi?",
                        "lengthVideo": 59.16,
                        "linkVideo": "https://www.youtube.com/watch?v=wkNwSV7ajzI&t=1364s",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            }

        ],
        "courseLearned": false
    },
    {
        "courseIndex": 8,
        "courseName": "Wed201c - PE",
        "courseImage": "./img/popular-course2.jpg",
        "courseType": "Web Design",
        "courseIntro": "https://www.youtube.com/watch?v=qFAH1-4Gvg0&t=84s",
        "courseStudents": 1.044,
        "courseRate": 4.9,
        "coursePrice": 'free',
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Khai niem ky thuat can biet",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Giải đề PE WED201c | Spring2023",
                        "lengthVideo": 63,
                        "linkVideo": "https://www.youtube.com/watch?v=qFAH1-4Gvg0&t=84s",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            }

        ],
        "courseLearned": false
    },
    {
        "courseIndex": 9,
        "courseName": "Prn211 & Prn212 Cách cấu hình để thi PE",
        "courseImage": "./img/popular-course2.jpg",
        "courseType": "Web Design",
        "courseIntro": "https://www.youtube.com/watch?v=aUpOYI3ArTE&t=82s",
        "courseStudents": 1.178,
        "courseRate": 4.9,
        "coursePrice": 37.80,
        "courseVideo": [
            {
                "chapterIndex": 0,
                "chapterTitle": "Prn211 Cách cấu hình để thi PE",
                "chapterVideo": [
                    {
                        "indexVideo": 0,
                        "nameVideo": "Prn212 Cách cấu hình để thi PE, câu 1 Winform | Spring 2024 | .NET Entity framework",
                        "lengthVideo": 66,
                        "linkVideo": "https://www.youtube.com/watch?v=aUpOYI3ArTE&t=82s",
                        "learnedVideo": false,
                        "learnedLength": -1
                    }
                ]
            }
        ],
        "courseWillLearn": [
            {
                "willLearnId": 0,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 1,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 2,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            },
            {
                "willLearnId": 3,
                "willLearnContent": "Các kiến thức cơ bản, nền móng của ngành IT",
            }

        ],
        "courseLearned": false
    }
]
//get index from url 
const urlParams = window.location.href;
const urlParamsArr = urlParams.split('=')
const courseIndex = parseInt(urlParamsArr[urlParamsArr.length - 1])-1;
function actionNavMenu() {
    let settingAccountBtn = document.querySelector('.setting_account-btn')
    let subMenu = document.querySelector('.nav_menu-subList')
    let navLinks = document.querySelectorAll('.nav_menu-list-item a')
    console.log(navLinks);
    let openNavBtn = document.querySelector('.nav_menu-btn')
    let navMenu = document.querySelector('.nav_menu')
    let menuNavOverLay = document.querySelector('.nav_overlay')
    openNavBtn.addEventListener('click', ()=> {
        navMenu.classList.toggle('openNavMenu')
    })
    menuNavOverLay.addEventListener('click', ()=> {
        navMenu.classList.toggle('openNavMenu')
    })
    settingAccountBtn.addEventListener('click', ()=> {
        subMenu.classList.toggle('showSubList')
        settingAccountBtn.classList.toggle('changeIcon')
    })
    navLinks.forEach((link)=> {
        link.addEventListener('click', (e)=> {
            e.preventDefault()
        })
    })
}
actionNavMenu()
//return DOM of detail course
function displayCourseDetail() {
    let html = ``
    let courseWrapper = document.querySelector('.course-wrapper')
    const courseItem = popularCourses[courseIndex]
    html+=`
    <div class="course__info">
    <h1 class="course__info-name">${courseItem.courseName}</h1>
    <p class="course__info-des">Để có cái nhìn tổng quan về ngành IT - Lập trình web các bạn nên xem các videos tại khóa này trước nhé.</p>  
    <div class="course__preview preview-second">
        <h5 class="course__preview-price">${typeof courseItem.coursePrice==='number'?`<strong>$</strong>${courseItem.coursePrice}`:courseItem.coursePrice}</h5>
        <button class="course__preview-learn" onclick = directionLearningPage()>Đăng ký học</button>
        <ul>
          <li>
            <i class="fa-solid fa-bars-progress"></i>
            <span>Trình độ cơ bản</span>
          </li>
          <li>
            <i class="fa-solid fa-film"></i>
            <span>Tổng số 11 bài học</span>
          </li>
          <li>
            <i class="fa-solid fa-clock"></i>
            <span>Trình độ cơ bản</span>
          </li>
          <li>
            <i class="fa-solid fa-battery-three-quarters"></i>
            <span>Học mọi thứ, mọi nơi</span>
          </li>
        </ul>
     </div>
    <div class="course__info-topic">
       <h2 class="topic-heading">Bạn sẽ học được gì?</h2>
       <div class="topic-content">
          <ul class="topic-list">
           ${getWillLearn(courseIndex)}
          </ul>
       </div>
    </div>
    <div class="course__info-curr">
        <h2 class="curr-heading">Nội dung khóa học</h2>
        <div class="curr-header">
           <ul>
            <li>
                <strong>${courseItem.courseVideo.length}</strong>
                chương
            </li>
            <li class="curr-header-dot">.</li>
            <li>
                <strong>${getLessonLength(courseIndex)}</strong>
                bài học
            </li>
            <li class="curr-header-dot">.</li>
            <li>
                Thời lượng
                <strong>${getTotalTime(courseIndex)}</strong>
            </li>
           </ul>
           <div class="curr-extent-btn">Mở rộng tất cả</div>
        </div>
        <div class="curr-content">
            <ul class="curr-list">
              ${getLessonOfCourse(courseIndex)}
            </ul>
        </div>
    </div>
</div>
 <div class="course__preview preview-primary mt-50">
    <div class="course__preview-img">
        <img src="${courseItem.courseImage}" alt="">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-play" class="course__preview-play" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM176 168V344C176 352.7 180.7 360.7 188.3 364.9C195.8 369.2 205.1 369 212.5 364.5L356.5 276.5C363.6 272.1 368 264.4 368 256C368 247.6 363.6 239.9 356.5 235.5L212.5 147.5C205.1 142.1 195.8 142.8 188.3 147.1C180.7 151.3 176 159.3 176 168V168z"></path></svg>
        <p>Xem giới thiệu khóa học</p>
    </div>
    <h5 class="course__preview-price">${typeof courseItem.coursePrice==='number'?`<strong>$</strong>${courseItem.coursePrice}`:courseItem.coursePrice}</h5>
    <button class="course__preview-learn" onclick = directionLearningPage()>Đăng ký học</button>
    <ul>
        <li>
            <i class="fa-solid fa-bars-progress"></i>
            <span>Trình độ cơ bản</span>
        </li>
        <li>
            <i class="fa-solid fa-film"></i>
            <span>Tổng số 11 bài học</span>
        </li>
        <li>
            <i class="fa-solid fa-clock"></i>
            <span>Trình độ cơ bản</span>
        </li>
        <li>
            <i class="fa-solid fa-battery-three-quarters"></i>
            <span>Học mọi thứ, mọi nơi</span>
        </li>
    </ul>
 </div>
          `
    courseWrapper.innerHTML = html
    previewVideo(courseIndex)
  }
  displayCourseDetail()
//hanlde action open, close show of list video
  function showLessonInCurr() {
    let currLessons = document.querySelectorAll('.curr__lesson')
    let openAllLessons = document.querySelector('.curr-extent-btn')

    openAllLessons.addEventListener('click', ()=> {
        if(openAllLessons.innerHTML == 'Mở rộng tất cả') {
            currLessons.forEach((lesson)=> {
                lesson.classList.add('showLessonItem')
                openAllLessons.innerHTML = 'Thu nhỏ tất cả'
            })
        }else{
            currLessons.forEach((lesson)=> {
                lesson.classList.remove('showLessonItem')
                openAllLessons.innerHTML = 'Mở rộng tất cả'
            })
        }
    })

    currLessons.forEach((lesson)=> {
        lesson.addEventListener('click', ()=> {
                lesson.classList.toggle('showLessonItem')
            checkOpen() 
        })
    })
    let currLessonCollapse = document.querySelectorAll('.curr__lesson-collapse')
    currLessonCollapse.forEach((item)=> {
        item.addEventListener('click', (e)=> {
            e.stopPropagation()
         })
    })
    function checkOpen() {
    let countOpent = 0;
        for(let i=0; i<currLessons.length; i++) {
            if(currLessons[i].classList.contains('showLessonItem')) {
                countOpent++;
            }
        }
        if(countOpent==currLessons.length) {
            openAllLessons.innerHTML = 'Thu nhỏ tất cả'
        }else{
            openAllLessons.innerHTML = 'Mở rộng tất cả'
        }
    }
  }
  showLessonInCurr()
//return video preview of course 
  function showPreviewCourse(index) {
  let courseVideoLayer = document.querySelector('.preview__course')
  let courseVideoPre = document.querySelector('.preview__course')
  let courseImgLayer = document.querySelector('.course__preview-img')
  let closeVideoPre = document.querySelector('.preview__course-close i')
  let courseVideoContainer = document.querySelector('.preview__course-wrapper')
  let courseVideoWrapp = document.querySelector('.preview__course-video')
  courseVideoContainer.addEventListener('click', (e)=> {
    e.stopPropagation()
  })
    courseImgLayer.addEventListener('click', ()=> {
      courseVideoPre.style.display = 'block'
      courseVideoWrapp.innerHTML = `<iframe class="preview__course-video-play" width="560" height="315" src="${popularCourses[index].courseIntro}?autoplay=1" allow='autoplay' allowfullscreen title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`
    })
    closeVideoPre.addEventListener('click', ()=> {
        courseVideoPre.style.display = 'none'
        courseVideoWrapp.innerHTML = ``;
    })
    courseVideoLayer.addEventListener('click', ()=> {
        courseVideoPre.style.display = 'none'
        courseVideoWrapp.innerHTML = ``;
    })
  }
  showPreviewCourse(courseIndex)
//return what we will learn after course
 function getWillLearn(index) {
    let html = ``
    let listWillLearn = popularCourses[index].courseWillLearn
    for(let i=0; i<listWillLearn.length; i++) {
        html+=`
            <li>
                 <i class="fa-solid fa-check"></i>
                 <span>${listWillLearn[i].willLearnContent}</span>
            </li>
        `
    }
    return html;
 }
 //get all Lesson from chapter have index
 function getLessonOfCourse(index) {
    let courseLessons = popularCourses[index].courseVideo
    let html = ``
    let indexVideo = 1;
    courseLessons.forEach((lesson)=> {
       html+=`
       <li class="curr__lesson">
       <div class="curr__lesson-panel">
           <h2 class="curr__lesson-name">${lesson.chapterTitle}</h2>
           <p>${lesson.chapterVideo.length} bài học</p>
       </div>
       <div class="curr__lesson-collapse">
           ${getChapterVideo(lesson)}
       </div>
     </li>
    `
    })
    function getChapterVideo(lessonChapeter) {
        let lessonList = lessonChapeter.chapterVideo;
        let lessonItem = ``;
        for(let i=0; i<lessonList.length; i++) {
            lessonItem+=`
            <div class="curr__lesson-item">
               <h5 class="curr__lesson-itemName">${indexVideo} ${lessonList[i].nameVideo}</h5>
               <p class="curr__lesson-itemTime">${getVideoLength(lessonList[i].lengthVideo)}</p>
            </div>
            `
            indexVideo++;
        }
        return lessonItem;
    }

    function getVideoLength(time) {
        let hours = parseInt(time/60);
        let minutes = parseInt(time - (hours*60));
        let second = parseInt((time - (hours*60)) - minutes)*10;
        if(minutes<10) {
            minutes=`0${minutes}`
        }
        if(second<10) {
            second=`0${second}`
        }
        if(hours==0) {
            return `${minutes}:${second}`
        }else{
            return `${hours}:${minutes}:${second}`
        }
    }
    return html
 }
 //get the number of Lesson, each chapter check the number of lesson chapterVideo
 function getLessonLength(index) {
    let lessonLength = 0
    popularCourses[index].courseVideo.forEach((lesson)=> {
        lessonLength+=lesson.chapterVideo.length;
    })
    return lessonLength;
}
//get total time of all video
function getTotalTime(index) {
    let totalTime = 0;
    popularCourses[index].courseVideo.forEach((lesson)=> {
        let chapterVideo = lesson.chapterVideo;
        for(let i=0; i<chapterVideo.length; i++) {
            totalTime+=chapterVideo[i].lengthVideo;
        }
    })
        let hours = parseInt(totalTime/60);
        let minutes = parseInt(totalTime - (hours*60));
        if(hours<10) {
            minutes=`0${hours}`
        }
        if(minutes<10) {
            minutes=`0${hours}`
        }
        return `${hours} giờ ${minutes} phút`
}
function previewVideo(index) {
    let previewCourse = document.querySelector('.preview__course')
    let html = ``
    html+= `
     <div class="preview__course-wrapper">
      <h3>Giới thiệu khóa học</h3>
      <h2>${popularCourses[index].courseName}</h2>
      <div class="preview__course-video">
        
      </div>
      <div class="preview__course-close">
      <i class="fa-solid fa-x"></i>
    </div>
 </div>`
 previewCourse.innerHTML = html
} 

//handle direc to leaning page
function directionLearningPage() {
    let letLearningBtn = document.querySelector('.course__preview-learn')
    console.log(letLearningBtn);
         window.location.href = `https://cuongtran6969.github.io/TVCsellCourse/learningPage.html?courseIndex=`+encodeURIComponent(courseIndex)
}
let showMenuBtn = document.querySelector('.show_nav i')
let navLink = document.getElementById('menu_links')
let menuNavOverLay = document.querySelector('.nav_menu-overlay')
showMenuBtn.addEventListener('click',(e)=> {
  e.preventDefault()
  navLink.classList.toggle('openNav')
  menuNavOverLay.classList.toggle('showOverLay')

})
menuNavOverLay.addEventListener('click', ()=> {
    navLink.classList.toggle('openNav')
    menuNavOverLay.classList.toggle('showOverLay')
})
const navSearch = document.querySelector('.nav_search')
navSearch.style.display = 'none'
history.pushState(null, null, 'http://127.0.0.1:5501/index.html');
window.addEventListener('popstate', function(event) {
  window.location.href = "http://127.0.0.1:5501/index.html";
});
